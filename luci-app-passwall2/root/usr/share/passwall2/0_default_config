
config global
	option enabled '0'
	option node_socks_port '1070'
	option localhost_proxy '1'
	option client_proxy '1'
	option socks_enabled '0'
	option acl_enable '0'
	option node 'rulenode'
	option direct_dns_protocol 'auto'
	option direct_dns_query_strategy 'UseIP'
	option remote_dns_protocol 'tcp'
	option remote_dns '1.1.1.1'
	option remote_dns_query_strategy 'UseIPv4'
	option dns_hosts 'cloudflare-dns.com 1.1.1.1
dns.google.com 8.8.8.8'
	option log_node '1'
	option loglevel 'error'
	
config global_haproxy
	option balancing_enable '0'

config global_delay
	option start_daemon '1'
	option start_delay '60'

config global_forwarding
	option tcp_no_redir_ports 'disable'
	option udp_no_redir_ports 'disable'
	option tcp_redir_ports '1:65535'
	option udp_redir_ports '1:65535'
	option accept_icmp '0'
	option prefer_nft '1'
	option tcp_proxy_way 'redirect'
	option ipv6_tproxy '0'

config global_xray
	option sniffing_override_dest '0'

config global_other
	option auto_detection_time 'tcping'
	option show_node_info '0'

config global_rules
	option auto_update '0'
	option geosite_update '1'
	option geoip_update '1'
	option v2ray_location_asset '/usr/share/v2ray/'
	option geoip_url 'https://github.com/Loyalsoldier/geoip/releases/latest/download/geoip.dat'
	option geosite_url 'https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geosite.dat'

config global_app
	option geoview_file '/usr/bin/geoview'
	option xray_file '/usr/bin/xray'
	option hysteria_file '/usr/bin/hysteria'
	option sing_box_file '/usr/bin/sing-box'

config global_subscribe
	option filter_keyword_mode '1'
	
config global_singbox
	option sniff_override_destination '0'

config shunt_rules 'China'
	option remarks 'China'
	option network 'tcp,udp'
	option domain_list 'geosite:cn'
	option ip_list 'geoip:cn'

config shunt_rules 'Iran'
	option remarks 'Iran'
	option network 'tcp,udp'
	option domain_list 'geosite:ir
#rule-set:remote:https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-ir.srs'
	option ip_list 'geoip:ir
#rule-set:remote:https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-ir.srs'

config shunt_rules 'Russia_Block'
	option remarks 'Russia_Block'
	option network 'tcp,udp'
	option domain_list 'geosite:ru-blocked
#rule-set:remote:https://raw.githubusercontent.com/runetfreedom/russia-v2ray-rules-dat/refs/heads/release/sing-box/rule-set-geosite/geosite-ru-blocked.srs'
	option ip_list 'geoip:ru-blocked
#rule-set:remote:https://raw.githubusercontent.com/runetfreedom/russia-v2ray-rules-dat/refs/heads/release/sing-box/rule-set-geoip/geoip-ru-blocked.srs'

config shunt_rules 'Russia'
	option remarks 'Russia'
	option network 'tcp,udp'
	option ip_list 'geoip:ru
#rule-set:remote:https://raw.githubusercontent.com/runetfreedom/russia-v2ray-rules-dat/refs/heads/release/sing-box/rule-set-geoip/geoip-ru.srs'

config nodes 'examplenode'
	option remarks 'Example'
	option type 'Xray'
	option protocol 'socks'
	option address 'passwall2.github'
	option port '1080'
	option tls '0'
	option transport 'raw'
	option tcp_guise 'none'
	option tcp_fast_open '0'
	option tcpMptcp '0'

config nodes 'rulenode'
	option remarks 'rulenode'
	option type 'Xray'
	option protocol '_shunt'
	option default_node 'examplenode'
	option domainStrategy 'IPOnDemand'
	option domainMatcher 'hybrid'
	option write_ipset_direct '1'
	option enable_geoview_ip '1'
